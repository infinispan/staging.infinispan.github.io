<!DOCTYPE html>
<html>

<head>
  <title>Infinispan 15.0.3.Final</title>
  <!-- <script id="adobe_dtm" src="//www.redhat.com/dtm.js" type="text/javascript"></script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Infinispan is a distributed in-memory key/value data store with optional schema, available under the Apache License 2.0.">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/assets/css/main.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <link rel="stylesheet"
        href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.css">
  <link rel="alternate" type="application/rss+xml"
        title="Infinispan's RSS Feed"
        href="/feed.xml" />
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
          
  <!-- Global site tag (gtag.js) - Google Analytics -->
<!--   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125236544-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-125236544-1');
  </script> -->


</head>

<body class="blog">
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
  <div class="container">
    <div class="logo-wrapper">
        <a href="/"><img src="/assets/images/infinispan-logo-white.png" class="project-logo" title="Infinispan Logo"></a>
    </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/learn/">Learn <i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/introduction" class="">Introduction</a></li>
          <li><a href="/features" class="">Features</a></li>
          <li><a href="/documentation" class="">Documentation</a></li>
          <li><a href="/tutorials" class="">Tutorials</a></li>
          <li><a href="/videos" class="">Videos</a></li>
          <li><a href="/references" class="">References</a></li>
          <li><a href="/experiments" class="">Experiments</a></li>
          <li><a href="/roadmap" class="">Roadmap</a></li>
        </ul>
      </li>
      <li>
        <a href="/use-cases/" class="">Use Cases</a>
      </li>
      <li>
        <a href="/community/" class="">Community</a>
      </li>
      <li>
        <a href="/blog/" class="active">Blog</a>
      </li>
      <li>
        <a href="/download/" class="">Download</a>
      </li>
    </ul>
  </div>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    
<div class="component-slim full-width-bg dark-bg light-blue">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <a href="/blog">Blogs</a>  <i class="fas fa-chevron-right"></i> Infinispan 15.0.3.Final
    </div>
  </div>
</div>

<div class="post-page grid-wrapper">
  <div class="grid__item width-10-12 width-12-12-m doc-content">
    <h1>Infinispan 15.0.3.Final</h1>
    <div class="post-date">May 08, 2024
      Tags: <a href="/blog/tag/release">release</a> <a href="/blog/tag/final">final</a> 
    </div>
    <div class="grid-wrapper">
      <div class="grid__item width-8-12 width-12-12-m margin-tb-sm">
        <div class="grid-wrapper">
          <div class="width-2-12 justify-self-center align-self-center">
            <img src="/assets/images/blog/authors/ttarrant.jpg">
          </div>
          <div class="width-10-12 align-self-center">
            <p class="byline">By Tristan Tarrant</p>
          </div>
        </div>
      </div>
      <div class="grid__item width-12-12">
          <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Since our 15 release a couple of months ago, we&#8217;ve been busy fixing bugs and adding new functionality. This post highlights the most notable enhancements:</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="protocol-buffers-compatibility-checks">Protocol Buffers compatibility checks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When uploading new versions of existing schemas to Infinispan, these will be validated using a set of backwards-compatibility rules based upon <a href="https://protobuf.dev/programming-guides/dos-donts/">Proto Best Practices</a>.
The types of checks can be configured via the <code>schema-compatibility</code> attribute of the global <code>serialization</code> configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;infinispan&gt;
   &lt;serialization schema-compatibility="UNRESTRICTED|LENIENT|STRICT"/&gt;
&lt;/infinispan&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The available levels are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>UNRESTRICTED</code>: no checks are performed</p>
</li>
<li>
<p><code>LENIENT</code>: a subset of the rules are enforced</p>
</li>
<li>
<p><code>STRICT</code>: all the rules are enforced (default)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="http-compressiondecompression">HTTP compression/decompression</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The REST endpoint has supported compressing responses since Infinispan 10, but now it also supports receiving compressed requests using the standard HTTP <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding"><code>content-encoding</code> header</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="queryindex-by-key">Query/index by key</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Entry keys can now be indexed and referenced in Ickle queries:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">select s.key.column from model.Structure s where s.key.zone = 'z7'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="filtering-in-vector-search">Filtering in Vector search</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It&#8217;s now possible to limit vector searches by applying predicates to the kNN queries:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Query&lt;Object[]&gt; query = remoteCache.query(
   "select score(i), i from Item i where i.floatVector &lt;-&gt; [:a]~:k filtering (i.buggy : 'cat' or i.text : 'code')");
query.setParameter("a", new float[]{7, 7, 7});
query.setParameter("k", 3);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="more-detailed-metrics">More detailed metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics for reads/writes are now split into the following categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>primary owner</p>
</li>
<li>
<p>backup owner</p>
</li>
<li>
<p>non-owner</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, transaction operations (prepare, commit and rollback) now have their own metrics for counts and response times.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cache-aliases">Cache aliases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Caches can now have aliases associated with them, so a cache may be accessed either by its primary name or one of its aliases.
The <code>aliases</code> attribute can be manipulated at runtime using the CLI or the REST API, so you can reassign aliases to different caches.
With this functionality it is possible to implement cache snapshots. Given the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;caches&gt;
    &lt;distributed-cache name="snapshot1" aliases="data" /&gt;
    &lt;distributed-cache name="snapshot2"/&gt;
&lt;/caches&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Clients could be accessing an older snapshot through the <code>data</code> alias, while the other snapshot is being populated. Once the new snapshot cache is ready, reassign the <code>data</code> alias to it and clients will automatically <strong>see</strong> the new data.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="redis-protocol">Redis protocol</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Infinispan can now support multiple Redis <strong>databases</strong>, even in clustered mode (something that the original Redis cannot do). You can use the cache alias feature to
assign logical database <strong>numbers</strong> to named caches.</p>
</div>
<div class="paragraph">
<p>We&#8217;ve also implemented a few more Redis commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BLMPOP</code></p>
</li>
<li>
<p><code>DB</code></p>
</li>
<li>
<p><code>HSTRLEN</code></p>
</li>
<li>
<p><code>PUBSUB</code></p>
</li>
<li>
<p><code>PUBSUB NUMPAT</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>as well as fixing a number of buglets in other commands.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reactive-methods-for-spring-cache">Reactive methods for Spring Cache</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Spring Cache (<code>retrieve</code>) methods have been implemented.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jdbc_ping-and-datasources">JDBC_PING and datasources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Infinispan server can now inject a managed datasource into the <code>JDBC_PING</code> protocol:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;cache-container&gt;
    &lt;transport stack="jdbc" server:data-source="ds" /&gt;
&lt;/cache-container&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-openssl">Removal of OpenSSL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Infinispan server no longer ships with the OpenSSL wrapper: the performance of the JDK&#8217;s SSLEngine has been vastly improved in Java 17 to the point where there is no noticeable difference (and in some cases it is slightly faster, since it no longer needs to jump over JNI).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation">Documentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Many improvements, updates and fixes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="release-notes">Release notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can look at the <a href="https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12310799&amp;version=12377084">release notes</a> to see what has changed since our latest CR.</p>
</div>
<div class="paragraph">
<p>Get them from our <a href="https://infinispan.org/download/">download page</a>.</p>
</div>
</div>
</div>
          
      </div>
      <div class="grid__item width-12-12">
        <h2>Get it, Use it, Ask us! </h2>
We’re hard at work on new features, improvements and fixes, so watch this space for more announcements!
<div class="paragraph">
    <p>Please, <a href="/download" target="_blank">download</a> and test the latest release.</p>
</div>
<div class="paragraph">
    <p>The source code is hosted on <a href="" target="_blank">GitHub</a>.
        If you need to report a bug or request a new feature, look for a similar one on our <a href="https://issues.jboss.org/browse/ISPN" target="_blank">JIRA issues tracker</a>.
        If you don’t find any, <a href="https://issues.jboss.org/browse/ISPN" target="_blank">create a new issue</a>.</p>
</div>
<div class="paragraph">
    <p>If you have questions, are experiencing a bug or want advice on using Infinispan,
        you can use <a href="https://github.com/infinispan/infinispan/discussions/"
                       target="_blank">GitHub discussions</a>.
        We will do our best to answer you as soon as we can.</p>
</div>
<div class="paragraph">
    <p>The Infinispan community uses <a href="https://zulipchat.com/"
                                        target="_blank">Zulip</a> for real-time communications.
        Join us using either a web-browser or a <a href="https://infinispan.zulipchat.com/apps/" target="_blank">dedicated
            application</a> on the <a href="https://infinispan.zulipchat.com/" target="_blank">Infinispan chat</a>.</p>
</div>
      </div>
      
      <div class="width-12-12 callout orange margin-tb-xs">
    <div class="grid-wrapper">
        <div class="width-4-12 width-12-12-m block-image">
            <img src="/assets/images/blog/authors/ttarrant.jpg" class="author-img">
        </div>
        <div class="width-8-12 width-12-12-m block-content">
            <h5>Tristan Tarrant</h5>
            <p>Tristan has been leading the Infinispan Engineering Team at Red Hat for quite a while now, as well as being Principal Architect for Red Hat Data Grid. He's been a passionate open-source advocate and contributor for over three decades.</p>
            <div class="width-3-12 width-6-12-m bio-block">
                <a href="http://github.com/tristantarrant"><img src="/assets/images/community/icon-github.png"></a>
                
                <a href="http://twitter.com/tristantarrant"><img src="/assets/images/community/icon-twitter.png"></a>
                
            </div>
        </div>
    </div>
</div>
      
    </div>
  </div>
</div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/infinispan-logo.png" class="project-logo" title="Infinispan Logo"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Infinispan is released under the Apache 2.0 open source license. Learn more about the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a>.<br/><br/>This website built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a> is hosted on <a href='https://pages.github.com/' target='_blank'>Github Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/infinispan/infinispan.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <b>Navigation</b>
        <ul class="footer-links width-1-12">
          
            
            <li><a href="/" >Home</a></li>
          
            
            <li><a href="/features" >Features</a></li>
          
            
            <li><a href="/documentation" >Docs</a></li>
          
            
            <li><a href="/tutorials" >Tutorials</a></li>
          
            
            <li><a href="/videos" >Videos</a></li>
          
            
            <li><a href="/use-cases" >Use Cases</a></li>
          
            
            <li><a href="/community" >Community</a></li>
          
            
            <li><a href="/download" >Download</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <b>Contribute</b>
        <ul class="footer-links width-1-12">
          
            
            <li><a href="https://issues.jboss.org/browse/ISPN" target="_blank">Submit a Bug</a></li>
          
            
            <li><a href="https://github.com/infinispan" target="_blank">Write Code</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <b>Follow Us</b>
        <ul class="footer-links width-1-12">
          
            
            <li><a href="/blog" >Blog</a></li>
          
            
            <li><a href="https://twitter.com/infinispan" target="_blank">Twitter</a></li>
          
        </ul>
      </div>
    

    <div class="width-6-12 more-links">
      <div class="grid-wrapper">
        <div class="width-6-12">
          <b>A Member of</b><br/>
          <a href="http://www.cloudtm.eu/" target="_blank"><img src="/assets/images/footer/cloud-tm.png"></a>
          <img src="/assets/images/footer/leads.png">
          <br/>
          <a href="http://cloudbutton.eu/" target="_blank"><img src="/assets/images/footer/cloud-button.png"></a>

        </div>
        <div class="width-6-12">

          <b>Thanks to</b><br/>
          <a href="https://www.jetbrains.com/idea/" target="_blank"><img src="/assets/images/footer/jetbrains.png" title="JetBrains Intellj IDEA"></a>
          <a href="https://weblate.org" target="_blank"><img src="/assets/images/footer/weblate.png" title="Weblate"></a>
        </div>
      </div>
    </div>
  </div>
</div>
  <div class="content-slim redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a>
      | <a href="https://www.redhat.com/en/about/privacy-policy">Red Hat Privacy Policy</a>
    </span>
    <span class="redhat">
      a Red Hat sponsored project   
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/truncate-list.js"></script>

  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>

<!--   <script type="text/javascript">
    if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
        _satellite.pageBottom();
    }
  </script> -->
</body>

</html>
